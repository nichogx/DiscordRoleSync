{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "config.yaml schema for DiscordRoleSync",
  "type": "object",
  "definitions": {
    "discordId": {
      "type": "string",
      "pattern": "^\\d{16,}$"
    },
    "color": {
      "oneOf": [
        {
          "type": "string",
          "enum": [
            "BLACK",
            "BLUE",
            "CYAN",
            "DARK_GRAY",
            "GRAY",
            "GREEN",
            "LIGHT_GRAY",
            "MAGENTA",
            "ORANGE",
            "PINK",
            "RED",
            "WHITE",
            "YELLOW"
          ]
        },
        {
          "type": "string",
          "pattern": "^#[0-9A-Fa-f]{1,6}$"
        }
      ]
    }
  },
  "additionalProperties": false,
  "properties": {
    "configVersion": {
      "type": "integer"
    },
    "enableDebugLogging": {
      "type": "boolean"
    },
    "language": {
      "type": "string"
    },
    "commandNames": {
      "type": "object",
      "properties": {
        "link": {
          "type": "string"
        },
        "verify": {
          "type": "string"
        },
        "info": {
          "type": "string"
        },
        "admLink": {
          "type": "string"
        },
        "unlink": {
          "type": "string"
        }
      },
      "required": [
        "link",
        "verify",
        "info",
        "admLink",
        "unlink"
      ]
    },
    "bot": {
      "type": "object",
      "properties": {
        "token": {
          "type": "string",
          "minLength": 1
        },
        "server": {
          "$ref": "#/definitions/discordId"
        }
      },
      "required": [
        "token",
        "server"
      ]
    },
    "database": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "enum": [
            "sqlite",
            "mysql"
          ]
        },
        "tablePrefix": {
          "type": "string",
          "minLength": 1
        },
        "mysql": {
          "type": "object",
          "properties": {
            "dbhost": {
              "type": "string"
            },
            "dbport": {
              "type": "number"
            },
            "dbname": {
              "type": "string"
            },
            "dbuser": {
              "type": "string"
            },
            "dbpass": {
              "type": "string"
            },
            "disableSSL": {
              "type": "boolean"
            }
          },
          "required": [
            "dbhost",
            "dbport",
            "dbname",
            "dbuser",
            "dbpass",
            "disableSSL"
          ]
        }
      },
      "required": [
        "type",
        "tablePrefix",
        "mysql"
      ]
    },
    "requireVerification": {
      "type": "boolean"
    },
    "discordUrl": {
      "type": "string"
    },
    "changeNicknames": {
      "type": "string",
      "enum": [
        "no",
        "after",
        "replace"
      ]
    },
    "manageWhitelist": {
      "type": "boolean"
    },
    "whitelistRoles": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/discordId"
      }
    },
    "giveLinkedRole": {
      "type": "boolean"
    },
    "linkedRole": {
      "$ref": "#/definitions/discordId"
    },
    "groups": {
      "type": "object",
      "additionalProperties": {
        "type": "array",
        "items": {
          "$ref": "#/definitions/discordId"
        }
      }
    },
    "chatPrefix": {
      "type": "object",
      "properties": {
        "text": {
          "type": "string"
        }
      },
      "required": [
        "text"
      ]
    },
    "alternativeServer": {
      "type": "string"
    },
    "alwaysOnlineMode": {
      "type": "boolean"
    },
    "botActivity": {
      "type": "object",
      "properties": {
        "enable": {
          "type": "boolean"
        },
        "status": {
          "type": "string"
        }
      },
      "required": [
        "enable",
        "status"
      ]
    },
    "embed": {
      "type": "object",
      "properties": {
        "useEmbed": {
          "type": "boolean"
        },
        "title": {
          "type": "string"
        },
        "colors": {
          "type": "object",
          "properties": {
            "INFO": {
              "$ref": "#/definitions/color"
            },
            "SUCCESS": {
              "$ref": "#/definitions/color"
            },
            "ERROR": {
              "$ref": "#/definitions/color"
            }
          },
          "required": [
            "INFO",
            "SUCCESS",
            "ERROR"
          ]
        }
      },
      "required": [
        "useEmbed",
        "title",
        "colors"
      ]
    },
    "experimental": {
      "type": "object"
    },
    "integrations": {
      "type": "object",
      "properties": {
        "plugins": {
          "type": "object",
          "additionalProperties": {
            "type": "boolean"
          }
        }
      },
      "required": [
        "plugins"
      ]
    }
  },
  "required": [
    "language",
    "commandNames",
    "bot",
    "database",
    "requireVerification",
    "discordUrl",
    "changeNicknames",
    "manageWhitelist",
    "whitelistRoles",
    "giveLinkedRole",
    "linkedRole",
    "groups",
    "chatPrefix",
    "alternativeServer",
    "alwaysOnlineMode",
    "botActivity",
    "embed",
    "integrations"
  ]
}
